{
  "type": "spec",
  "morgoth": "medium",
  "status": "draft",
  "domain": "frontend",
  "name": "minimalist-redesign",
  "title": "Minimalist Redesign",
  "created": "2026-02-04T04:30:00Z",
  "updated": "2026-02-04T04:30:00Z",
  "problem": {
    "surface_request": "Make design more minimalist like Excalidraw, remove blue color, fix QR bug",
    "root_problem": "Current UI is cluttered with large header and toolbar. QR code generation fails with invalid type number error.",
    "affected": "All users",
    "impact": "Distracting UI reduces focus on note content. QR feature is broken."
  },
  "outcome": "Clean, minimal UI with black/white theme, hidden chrome, and working QR code generation",
  "boundaries": {
    "in_scope": [
      "Remove blue accent color - use only black/white based on theme",
      "Shrink or hide header",
      "Minimize toolbar - corner buttons revealed on hover/click",
      "Fix QR code generation bug",
      "Excalidraw-style content-first design",
      "Playwright screenshot testing"
    ],
    "out_of_scope": [
      { "item": "New features", "reason": "This is a UI polish pass only", "status": "deferred" },
      { "item": "Backend changes", "reason": "Frontend only", "status": "rejected" }
    ]
  },
  "assumptions": [
    { "assumption": "Users prefer minimal UI that focuses on content", "status": "validated", "impact": "high" },
    { "assumption": "QR bug is due to incorrect type number in library call", "status": "validated", "impact": "high" }
  ],
  "acceptance_criteria": [
    "No blue color anywhere - only black/white/gray based on theme",
    "Header is minimal or hidden",
    "Toolbar buttons are small and in corners",
    "QR code generates without errors",
    "Playwright screenshots captured for each task"
  ],
  "requirements": [
    { "id": "R1", "requirement": "Replace all blue (#2196F3) with theme-appropriate black/white/gray", "priority": "P0", "moscow": "must" },
    { "id": "R2", "requirement": "Reduce header to minimal text or hide completely", "priority": "P0", "moscow": "must" },
    { "id": "R3", "requirement": "Move toolbar to corners with small icon buttons", "priority": "P0", "moscow": "must" },
    { "id": "R4", "requirement": "Fix QR code typeNumber to use 0 (auto) instead of 10/20/40", "priority": "P0", "moscow": "must" },
    { "id": "R5", "requirement": "Editor takes full viewport height minus minimal chrome", "priority": "P1", "moscow": "should" },
    { "id": "R6", "requirement": "Status bar is subtle and unobtrusive", "priority": "P1", "moscow": "should" },
    { "id": "R7", "requirement": "Capture Playwright screenshots for each completed task", "priority": "P0", "moscow": "must" }
  ],
  "user_journeys": [
    {
      "name": "Write and Share Note",
      "actor": "User",
      "goal": "Focus on writing without UI distraction",
      "steps": [
        "Open app - see mostly empty canvas with editor",
        "Start typing immediately - no header blocking view",
        "Need to share - hover/click corner to reveal share button",
        "Click share - URL copied",
        "Need QR - click QR button - modal opens with working QR code"
      ],
      "edge_cases": []
    }
  ],
  "tasks": [
    {
      "id": "1",
      "name": "Fix QR Code Bug",
      "description": "Fix the QR code generation error by using typeNumber 0 (auto-detect) instead of hardcoded 10/20/40 values that don't work with this library version.",
      "acceptance_criteria": "QR code generates without console errors for any URL length",
      "test": "Open app, type text, click QR button, verify QR modal shows without errors",
      "priority": "P0",
      "estimate": { "size": "S", "time": "30 min" },
      "subtasks": [
        { "id": "1.1", "action": "Change typeNumber from 10/20/40 to 0 (auto-detect)", "acceptance_criteria": "qrcode(0, 'L') is called" },
        { "id": "1.2", "action": "Test QR generation with short and long URLs", "acceptance_criteria": "No console errors, QR displays correctly" },
        { "id": "1.3", "action": "Capture Playwright screenshot of working QR modal", "acceptance_criteria": "Screenshot uploaded to GitHub issue" }
      ]
    },
    {
      "id": "2",
      "name": "Remove Blue Color Scheme",
      "description": "Replace all blue (#2196F3 and variants) with black/white/gray colors that adapt to light/dark theme.",
      "acceptance_criteria": "No blue anywhere. Primary actions use black (light mode) or white (dark mode).",
      "test": "Visual inspection in both light and dark mode",
      "priority": "P0",
      "estimate": { "size": "S", "time": "30 min" },
      "subtasks": [
        { "id": "2.1", "action": "Replace --color-primary with theme-aware black/white", "acceptance_criteria": "CSS variable updated" },
        { "id": "2.2", "action": "Update button styles to use new colors", "acceptance_criteria": "Buttons are black/white, not blue" },
        { "id": "2.3", "action": "Update focus rings and accents", "acceptance_criteria": "Focus states use gray not blue" },
        { "id": "2.4", "action": "Capture Playwright screenshots in light and dark mode", "acceptance_criteria": "Screenshots show no blue" }
      ]
    },
    {
      "id": "3",
      "name": "Minimize Header",
      "description": "Reduce header to minimal or hide it. Excalidraw shows no header - just the canvas.",
      "acceptance_criteria": "Header is either hidden or extremely minimal (just app name in small text)",
      "test": "Visual comparison - most of viewport is editor",
      "priority": "P0",
      "estimate": { "size": "S", "time": "30 min" },
      "subtasks": [
        { "id": "3.1", "action": "Remove or minimize header element", "acceptance_criteria": "Header takes minimal vertical space" },
        { "id": "3.2", "action": "Move any essential info to corners or footer", "acceptance_criteria": "No content lost, just relocated" },
        { "id": "3.3", "action": "Capture Playwright screenshot showing minimal header", "acceptance_criteria": "Screenshot shows content-first UI" }
      ]
    },
    {
      "id": "4",
      "name": "Relocate Toolbar to Corners",
      "description": "Move toolbar buttons to corners like Excalidraw. Small icon buttons that don't dominate the UI.",
      "acceptance_criteria": "Toolbar buttons are in corners, small, and unobtrusive",
      "test": "Visual inspection - buttons don't dominate viewport",
      "priority": "P0",
      "estimate": { "size": "M", "time": "1 hour" },
      "subtasks": [
        { "id": "4.1", "action": "Create fixed position corner containers for buttons", "acceptance_criteria": "Corner containers positioned correctly" },
        { "id": "4.2", "action": "Move formatting buttons (B/I) to one corner", "acceptance_criteria": "Format buttons in corner" },
        { "id": "4.3", "action": "Move action buttons (Share/QR/Clear) to opposite corner", "acceptance_criteria": "Action buttons in corner" },
        { "id": "4.4", "action": "Make buttons small icons instead of labeled buttons", "acceptance_criteria": "Buttons are icon-only, small" },
        { "id": "4.5", "action": "Capture Playwright screenshot showing corner layout", "acceptance_criteria": "Screenshot shows Excalidraw-style layout" }
      ]
    },
    {
      "id": "5",
      "name": "Maximize Editor Space",
      "description": "Make editor take full viewport with minimal padding. Content-first design.",
      "acceptance_criteria": "Editor fills viewport, padding is minimal, focus is on content",
      "test": "Editor should feel like writing on a blank canvas",
      "priority": "P1",
      "estimate": { "size": "S", "time": "30 min" },
      "subtasks": [
        { "id": "5.1", "action": "Set editor to fill remaining viewport height", "acceptance_criteria": "Editor is full-height" },
        { "id": "5.2", "action": "Reduce editor padding/margins", "acceptance_criteria": "Minimal chrome around editor" },
        { "id": "5.3", "action": "Make status bar subtle (smaller, less prominent)", "acceptance_criteria": "Status bar doesn't distract" },
        { "id": "5.4", "action": "Capture Playwright screenshot showing full-screen editor", "acceptance_criteria": "Screenshot shows content-first design" }
      ]
    }
  ],
  "dependencies": {
    "task_deps": [
      { "task": "2", "depends_on": [] },
      { "task": "3", "depends_on": [] },
      { "task": "4", "depends_on": ["3"] },
      { "task": "5", "depends_on": ["3", "4"] }
    ],
    "external_deps": [],
    "critical_path": ["1", "2", "3", "4", "5"],
    "parallel_tracks": [
      { "name": "Bug fix", "tasks": ["1"] },
      { "name": "UI redesign", "tasks": ["2", "3", "4", "5"] }
    ]
  },
  "estimation": {
    "method": "t-shirt",
    "total_effort": "3-4 hours",
    "buffer": "1 hour",
    "total_with_buffer": "4-5 hours"
  },
  "test_requirements": [
    { "type": "e2e", "description": "Playwright screenshots for each task showing before/after" },
    { "type": "visual", "description": "Manual verification of minimal UI in light/dark mode" }
  ],
  "references": [
    "https://excalidraw.com - Reference for minimal UI design"
  ],
  "discovery": {
    "skills": [],
    "agents": [],
    "docs": []
  }
}
